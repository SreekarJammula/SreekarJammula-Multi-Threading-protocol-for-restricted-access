Hello Carlos!
I am attaching two files final.c and final3.c
In file final3.c , i try to ignore the threads of opposite family in the code(i.e, no management mechanism to handle threads of montagues when threads of capulet are in piazza) and the program runs fine!
In the file final.c i used the management mechanisms but i guess the output is not correct
I tried the best  i could in trying to solve this problem. I request you to grade both the files if possible and give me the best of both marks. 
The input file i have used has been zipped in  the forlder as input-asst.txt
Thank You!